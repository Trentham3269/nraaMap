<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Should override IE compatibility mode -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- Fit to device -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Does the intranet search index pages? if so consider content -->
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Tab Title -->
    <title>NRAA Ranges</title>

    <!-- Leaflet CSS -->
    <link href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" rel="stylesheet"/>

    <!-- leaflet-zoom-min CSS -->
    <!-- https://github.com/alanshaw/leaflet-zoom-min.git -->
    <link href="L.Control.ZoomMin.css", rel="stylesheet", media="screen"/>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>

    <!-- leaflet-zoom-min JS -->
    <!-- https://github.com/alanshaw/leaflet-zoom-min.git -->
    <script src="L.Control.ZoomMin.js"></script>

    <!-- Load ranges data from external .js file -->
    <script src="ranges.js"></script>
  </head>
  <body>
    <!-- Div for map -->
    <div id='map' style="height: 800px">

    <!-- Data and Map -->
    <script>
    	// Print array to console
    	console.log(ranges);

      // Test layers
      var bathurst = L.marker([-33.445541, 149.544611]).bindPopup("<b>Range:</b> Bathurst" + "<br>" + "<b>Type:</b> Imperial" + "<br>"),
          cessnock = L.marker([-32.864497, 151.350778]).bindPopup("Cessnock"),
          hornsby  = L.marker([-33.68712, 151.084996]).bindPopup("Hornsby"),
          malabar  = L.marker([-33.958751, 151.260098]).bindPopup("Malabar"),
          gosford  = L.marker([-33.455674, 151.271125]).bindPopup("Gosford");

      var nsw = L.layerGroup([bathurst, cessnock, hornsby, malabar, gosford]);

      var beaudesert = L.marker([-27.999842, 153.072081]).bindPopup("Beaudesert"),
          belmont    = L.marker([-27.513646, 153.131253]).bindPopup("Belmont"),
          ipswich    = L.marker([-27.745645, 152.847601]).bindPopup("Ipswich"),
          northArm   = L.marker([-26.525591, 152.974641]).bindPopup("North Arm");

      var qld = L.layerGroup([beaudesert, belmont, ipswich, northArm]);

      var overlayStates = {
        "NSW": nsw,
        "QLD": qld
      };

        // map
        var map = L.map('map', {
          center: [-27.833, 133.583],
          zoom: 4,
          minZoom: 5,
          maxZoom: 16,
          zoomControl: false
        });

        // add tiles and attribution
        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
        }).addTo(map);

        L.control.layers(null, overlayStates).addTo(map);

        // zoom control for leaflet-zoom-min
        map.addControl(new L.Control.ZoomMin(''))
    </script>
  </body>
</html>
